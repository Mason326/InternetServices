<Window x:Class="WpfApp1.CreateClaim"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1"
        mc:Ignorable="d"
        Title="Создание заявки" Height="741.55" Width="987.2" WindowStartupLocation="CenterScreen" WindowStyle="None" Loaded="Window_Loaded">
    <Grid>
        <Label Content="Дата и время выполнения" HorizontalAlignment="Left" Margin="463,15,0,0" VerticalAlignment="Top" FontSize="16" Height="31" Width="209"/>
        <Label Content="Статус" HorizontalAlignment="Left" Margin="255,35,0,0" VerticalAlignment="Top" FontSize="16" Height="31" Width="85"/>
        <DataGrid x:Name="claimsDG" SelectionMode="Single" Margin="10,351,10,3" AutoGenerateColumns="False" IsReadOnly="True" SelectionChanged="claimsDG_SelectionChanged" MouseDoubleClick="claimsDG_MouseDoubleClick">
            <DataGrid.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Просмотр" Click="ShowClaimVerbose" />
                    <MenuItem Header="Редактировать" Click="PrepareToEditClaim"/>
                </ContextMenu>
            </DataGrid.ContextMenu>
            <DataGrid.Columns>
                <DataGridTextColumn Header="№ Заявки" Binding="{Binding id_claim}" Width="70" />
                <DataGridTextColumn Header="Дата создания" Binding="{Binding connection_creationDate, StringFormat=\{0:dd.MM.yy\}}" Width="100" />
                <DataGridTextColumn Header="Дата выполнения" Binding="{Binding mount_date, StringFormat=\{0:dd.MM.yy HH:mm:ss\}}" Width="110" />
                <DataGridTextColumn Header="Адрес монтирования" Binding="{Binding connection_address}" Width="140" />
                <DataGridTextColumn Header="Тариф" Binding="{Binding tariff}" Width="75" />
                <DataGridTextColumn Header="Фио Клиента" Binding="{Binding client_fio}" Width="90" />
                <DataGridTextColumn Header="ФИО менеджера" Binding="{Binding employee_fio}" Width="120" />
                <DataGridTextColumn Header="ФИО мастера" Binding="{Binding master_fio}" Width="120" />
                <DataGridTextColumn Header="Статус" Binding="{Binding claim_status}" Width="70">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="{x:Type TextBlock}">
                            <Style.Triggers>
                                <Trigger Property="Text" Value="Входящая">
                                    <Setter Property="Background" Value="ForestGreen" />
                                    <Setter Property="Foreground" Value="White" />
                                </Trigger>
                                <Trigger Property="Text"  Value="Отменена">
                                    <Setter Property="Background" Value="DarkRed" />
                                    <Setter Property="Foreground" Value="White" />
                                </Trigger>
                                <Trigger Property="Text"  Value="В работе">
                                    <Setter Property="Background" Value="Coral" />
                                    <Setter Property="Foreground" Value="White" />
                                </Trigger>
                                <Trigger Property="Text"  Value="Закрыта">
                                    <Setter Property="Background" Value="Magenta"  />
                                    <Setter Property="Foreground" Value="White" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
            </DataGrid.Columns>
        </DataGrid>
        <DatePicker x:Name="dateOfExecution" HorizontalAlignment="Left" Margin="464,64,0,0" VerticalAlignment="Top" Height="36" Width="135" FontSize="16" SelectedDateChanged="dateOfExecution_SelectedDateChanged" PreviewTextInput="dateOfExecution_PreviewTextInput"/>
        <ComboBox IsEnabled="False" x:Name="claimStatusComboBox" HorizontalAlignment="Left" Margin="255,64,0,0" VerticalAlignment="Top" Width="184" Height="38" FontSize="16"/>
        <Label Content="Дата создания:" HorizontalAlignment="Left" Margin="25,69,0,0" VerticalAlignment="Top" FontSize="16" Height="31" Width="120"/>
        <Label Content="Номер заявки:" HorizontalAlignment="Left" Margin="29,25,0,0" VerticalAlignment="Top" FontSize="16" Height="31" Width="117"/>
        <Label Content="Клиент" HorizontalAlignment="Left" Margin="28,189,0,0" VerticalAlignment="Top" FontSize="16" Height="31" Width="85"/>
        <Button x:Name="chooseAClientButton" Content="Выбрать клиента" HorizontalAlignment="Left" Margin="361,220,0,0" VerticalAlignment="Top" Width="151" Height="38" Click="Button_Click_1" Background="#FF4F6DD3" Foreground="White" FontWeight="Bold" FontFamily="Arial" FontSize="16"/>
        <TextBox x:Name="clientTextBox" IsEnabled="False" HorizontalAlignment="Left" Height="33" Margin="30,223,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="310"/>
        <Label Name="claimNumber" Content="" HorizontalAlignment="Left" Margin="142,28,0,0" VerticalAlignment="Top" FontSize="16"/>
        <Label Name="creationDate" Content="" HorizontalAlignment="Left" Margin="142,71,0,0" VerticalAlignment="Top" FontSize="16"/>
        <TextBox Name="mountAddressTextBox" HorizontalAlignment="Left" Height="44" Margin="30,146,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="409" PreviewTextInput="TextBox_PreviewTextInput" MaxLength="150"/>
        <Label Content="Адрес монтирования" HorizontalAlignment="Left" Margin="25,115,0,0" VerticalAlignment="Top" FontSize="16" Height="31" Width="165"/>
        <ComboBox x:Name="timeOfExecution" HorizontalAlignment="Left" Margin="599,64,0,0" VerticalAlignment="Top" Width="82" Height="36" FontSize="16">
            <ComboBox.Background>
                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                    <GradientStop Color="#FFF0F0F0" Offset="0"/>
                    <GradientStop Color="White" Offset="1"/>
                </LinearGradientBrush>
            </ComboBox.Background>
        </ComboBox>
        <Label Foreground="Red" Content="*" HorizontalAlignment="Left" Margin="81,190,0,0" VerticalAlignment="Top" FontSize="20" FontWeight="Bold"/>
        <Label Foreground="Red" Content="*" HorizontalAlignment="Left" Margin="182,116,0,0" VerticalAlignment="Top" FontSize="20" FontWeight="Bold"/>
        <Label Foreground="Red" Content="*" HorizontalAlignment="Left" Margin="658,16,0,0" VerticalAlignment="Top" FontSize="20" FontWeight="Bold"/>
        <ComboBox x:Name="tariffComboBox" HorizontalAlignment="Left" Margin="464,146,0,0" VerticalAlignment="Top" Width="217" Height="32"/>
        <Label Content="Тариф" HorizontalAlignment="Left" Margin="461,117,0,0" VerticalAlignment="Top" FontSize="16" Height="31" Width="85"/>
        <Label Foreground="Red" Content="*" HorizontalAlignment="Left" Margin="508,119,0,0" VerticalAlignment="Top" FontSize="20" FontWeight="Bold"/>
        <Button Content="Очистить поля" HorizontalAlignment="Left" Margin="546,221,0,0" VerticalAlignment="Top" Width="135" Height="39" Background="#FF4F6DD3" FontFamily="Arial" FontSize="16" FontWeight="Bold" Foreground="White" Click="Button_Click_3"/>
        <Label Foreground="Red" Content="*" HorizontalAlignment="Left" Margin="304,35,0,0" VerticalAlignment="Top" FontSize="20" FontWeight="Bold" RenderTransformOrigin="-16.708,0.598"/>
        <Label Content="Мастер" HorizontalAlignment="Left" Margin="28,263,0,0" VerticalAlignment="Top" FontSize="16" Height="31" Width="85"/>
        <Button Content="Выбрать мастера" HorizontalAlignment="Left" Margin="361,291,0,0" VerticalAlignment="Top" Width="151" Height="38" Background="#FF4F6DD3" Foreground="White" FontWeight="Bold" FontFamily="Arial" FontSize="16" Click="Button_Click_4"/>
        <TextBox x:Name="masterTextBox" IsEnabled="False" HorizontalAlignment="Left" Height="33" Margin="30,294,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="310" TextChanged="masterTextBox_TextChanged"/>
        <Label Foreground="Red" Content="*" HorizontalAlignment="Left" Margin="85,264,0,0" VerticalAlignment="Top" FontSize="20" FontWeight="Bold"/>
        <Label Content="(доступны после выбора мастера)" HorizontalAlignment="Left" Margin="463,35,0,0" VerticalAlignment="Top" FontSize="13" Height="31" Width="231"/>
        <StackPanel HorizontalAlignment="Left" Height="229" Margin="694,29,0,0"  VerticalAlignment="Top" Width="263">
            <Button x:Name="createClaimButton" Content="Создать заявку" HorizontalAlignment="Left" Height="36" Margin="20,30,0,5" VerticalAlignment="Top" Width="226" RenderTransformOrigin="0.458,-0.148" Background="#FF4F6DD3" Foreground="White" FontWeight="Bold" FontFamily="Arial" FontSize="16" Click="Button_Click_2"/>
            <Button x:Name="showClaimButton" IsEnabled="False" Content="Просмотр заявки" HorizontalAlignment="Left" Margin="20,5,0,5" VerticalAlignment="Top" Width="226" Height="37" Background="#FF4F6DD3" Foreground="White" FontSize="16" FontFamily="Arial" FontWeight="Bold" Click="ShowClaimVerbose"/>
            <Button x:Name="editButton" Content="Редактировать заявку" HorizontalAlignment="Left" Height="36" Margin="20,5,0,5" VerticalAlignment="Top" Width="226" RenderTransformOrigin="0.458,-0.148" Background="#FF4F6DD3" Foreground="White" FontWeight="Bold" FontFamily="Arial" FontSize="16" Click="PrepareToEditClaim"/>
            <Button x:Name="toMainButton" Content="На главную" HorizontalAlignment="Left" Height="36" Margin="20,5,0,5" VerticalAlignment="Top" Width="226" RenderTransformOrigin="0.458,-0.148" Click="Button_Click" Background="#FF4F6DD3" Foreground="White" FontWeight="Bold" FontFamily="Arial" FontSize="16"/>
            <Button x:Name="endEditingButton" Visibility="Collapsed" Content="Завершить редактирование" HorizontalAlignment="Left" Height="36" Margin="20,30,0,5" VerticalAlignment="Top" Width="226" RenderTransformOrigin="0.458,-0.148" Click="EditClaim" Background="#FF4F6DD3" Foreground="White" FontWeight="Bold" FontFamily="Arial" FontSize="16"/>
            <Button x:Name="cancelChangesButton" Visibility="Collapsed" Content="Отменить изменения" HorizontalAlignment="Left" Height="36" Margin="20,5,0,5" VerticalAlignment="Top" Width="226" RenderTransformOrigin="0.458,-0.148" Click="CancelEdit" Background="#FF4F6DD3" Foreground="White" FontWeight="Bold" FontFamily="Arial" FontSize="16"/>
        </StackPanel>
        <Label Content="Поиск по номеру заявки и ФИО клиента" HorizontalAlignment="Left" Margin="548,263,0,0" VerticalAlignment="Top" FontSize="16" Height="30" Width="315"/>
        <TextBox x:Name="searchByClaimNumAndFio" HorizontalAlignment="Left" Height="36" Margin="550,293,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="391" TextChanged="searchByClaimNumAndFio_TextChanged"/>
    </Grid>
</Window>